## Project 1: Блог

### Task: Реализация системы блога

Цель: Создать систему блога с моделями `User`, `Post`, `Comment` и `Category`. Настройте Alembic для управления миграциями и реализуйте основные CRUD-операции.

# Требования

## 1. Модели:
   - Создайте модели `User`, `Post`, `Comment` и `Category`.
   - Установите следующие отношения:
     - Один пользователь может иметь много постов (`User` ↔ `Post`: One-to-Many).
     - Один пост может принадлежать одной категории (`Category` ↔ `Post`: One-to-Many).
     - Один пост может иметь много комментариев (`Post` ↔ `Comment`: One-to-Many).
     - Пользователь может оставлять комментарии к разным постам (`User` ↔ `Comment`: One-to-Many).

## 2. Миграции:
   - Инициализируйте Alembic в директории проекта.
   - Создайте миграции для всех моделей.
   - Примените миграции к базе данных.

## 3. CRUD-операции:
   - Реализуйте функции для добавления, чтения, обновления и удаления данных.

## 4. Дополнительные функции:
   - Добавьте возможность фильтрации постов по дате создания.
   - Реализуйте вывод всех комментариев конкретного пользователя.


# Задание

## 1. Создание моделей

Создайте файл `models.py` и определите следующие модели:

### - `User`:
  - `id`: Целое число, первичный ключ.
  - `username`: Строка, уникальное имя пользователя.
  - `email`: Строка, уникальный email.

### - `Category`:
  - `id`: Целое число, первичный ключ.
  - `name`: Строка, название категории (уникальное).

### - `Post`:
  - `id`: Целое число, первичный ключ.
  - `title`: Строка, заголовок поста.
  - `content`: Текст, содержимое поста.
  - `created_at`: Дата и время создания поста (по умолчанию текущая дата).
  - `user_id`: Внешний ключ, связанный с таблицей `users`.
  - `category_id`: Внешний ключ, связанный с таблицей `categories`.

### - `Comment`:
  - `id`: Целое число, первичный ключ.
  - `text`: Текст комментария.
  - `created_at`: Дата и время создания комментария (по умолчанию текущая дата).
  - `user_id`: Внешний ключ, связанный с таблицей `users`.
  - `post_id`: Внешний ключ, связанный с таблицей `posts`.

# Настройка Alembic

1. Инициализируйте Alembic в директории проекта:
   alembic init alembic

2. Создайте миграции для всех моделей:
   alembic revision --autogenerate -m "Add blog models"

3. Примените миграции к базе данных:
   alembic upgrade head

# CRUD-операции

## Реализуйте следующие функции:

### a) Добавление данных:
- Создайте нового пользователя.
- Создайте новую категорию.
- Создайте новый пост для пользователя в определенной категории.
- Создайте комментарий к посту от имени пользователя.

### b) Чтение данных:
- Получите все посты конкретного пользователя.
- Получите все комментарии конкретного поста.
- Получите все посты в конкретной категории.
- Получите все комментарии конкретного пользователя.

### c) Обновление данных:
- Измените содержимое поста.
- Измените текст комментария.

### d) Удаление данных:
- Удалите комментарий.
- Удалите пост вместе со всеми его комментариями.

# Дополнительные функции

## - Фильтрация постов по дате:
  - Добавьте возможность получения постов, созданных после определенной даты.

## - Вывод комментариев пользователя:
  - Реализуйте функцию, которая выводит все комментарии конкретного пользователя.

# Результат

## Ваш проект должен включать:
- Файл `models.py` с определением моделей.
- Настроенную систему миграций через Alembic.
- Файл `main.py` для демонстрации работы CRUD-операций.

# Подсказки

- Для работы с датами используйте тип `DateTime` из SQLAlchemy.
- Для установки отношений используйте `relationship` и `ForeignKey`.
- Для генерации миграций используйте команду:
   alembic revision --autogenerate -m "Message"
- Для применения миграций используйте:
   alembic upgrade head